---
# Ansible Lint Configuration for All Things Linux Infrastructure
# Based on official documentation: https://ansible.readthedocs.io/projects/lint/en/latest/configuration/

# Use basic profile for fastest performance during development
# Use production profile only in CI/CD pipelines
profile: basic

# Disable auto-fix for faster performance during pre-commit
write_list: []

# Performance optimizations
skip_action_validation: true
# Exclude certain files/directories from linting
# Paths are relative to this file's location
exclude_paths:
  - .cache/ # Implicit unless exclude_paths is defined
  - .github/
  - logs/
  - .requirements_installed
  - "*/node_modules/"
  - "*/venv/"
  - "*/.venv/"
  - "**/.ansible/" # Exclude ansible-lint generated directories
  - ".ansible/" # Exclude root .ansible directory
  - files/secrets/
  - host_vars/secrets/
  - group_vars/secrets/
  - site/ # Exclude generated documentation site

# Allow list of rules to ignore globally for faster pre-commit
# Note: Consider using .ansible-lint-ignore file instead for better visibility
skip_list:
  - yaml[line-length] # Allow longer lines for readability in some cases
  - fqcn-builtins # Skip FQCN checks for speed
  - name[template] # Skip name template checks for speed
  - name[casing] # Skip name casing checks for speed
  - name[missing] # Skip missing name checks for speed

# Rules that should only warn, not fail
warn_list:
  - experimental # Warn about experimental features
  - name[missing] # Warn about tasks without names
  - name[casing] # Warn about casing but don't fail

# Disable opt-in rules for faster execution
enable_list: []
# Variable naming pattern enforcement
# Must start with lowercase letter or underscore, followed by lowercase letters, numbers, or underscores
var_naming_pattern: "^[a-z_][a-z0-9_]*$"

# Loop variable prefix pattern for roles
# Helps avoid variable collision in roles
loop_var_prefix: "^(__|{role}_)"

# Task name prefix pattern
# Use {stem} placeholder for file stem
task_name_prefix: "{stem} | "

# Minimal mock modules for faster execution
mock_modules: []
# Minimal mock roles for faster execution
mock_roles: []
# Minimal extra vars for faster execution
extra_vars: {}
# Minimal file type detection for faster execution
kinds: []
# Use default rules
use_default_rules: true

# Enable offline mode for better performance
offline: true

# Disable strict mode for development performance
# Enable strict mode only in CI/CD pipelines
strict: false

# Set verbosity level (0-3), lower for better performance
verbosity: 0
